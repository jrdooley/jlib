#N canvas 1140 131 658 714 10;
#X obj 41 464 -~;
#X obj 41 424 sig~ 1;
#X obj 23 524 rpole~;
#X obj 115 96 loadbang;
#X obj 115 118 samplerate~;
#X obj 115 140 * 0.001;
#X obj 97 173 *;
#X msg 97 195 1 \$1;
#X obj 97 217 /;
#X obj 97 239 t b f;
#X msg 97 261 0.01;
#X obj 97 283 pow;
#X obj 23 494 *~;
#X obj 23 315 abs~;
#X obj 97 26 inlet attack;
#X obj 23 26 inlet~;
#X obj 23 674 outlet~;
#X obj 97 423 *~;
#X obj 231 172 *;
#X msg 231 194 1 \$1;
#X obj 231 216 /;
#X obj 231 238 t b f;
#X msg 231 260 0.01;
#X obj 231 282 pow;
#X obj 231 25 inlet release;
#X obj 214 425 *~;
#X obj 167 355 sig~ 1;
#X obj 167 390 -~;
#X obj 97 73 max 0.1;
#X obj 231 71 max 0.1;
#X obj 231 304 sig~ 0.9;
#X obj 97 303 sig~ 0.9;
#X text 178 484 temp = abs(in);
#X text 178 544 else;
#X text 178 504 if (tmp > env);
#X text 188 564 env = release_coeff * (env - temp) + temp;
#X text 188 524 env) = attack_coeff * env) - temp) + temp;
#X obj 146 328 r~ \$0-env;
#X obj 56 554 s~ \$0-env;
#N canvas 1 68 324 234 gt 0;
#X obj 143 46 inlet~;
#X obj 44 46 inlet~;
#X obj 44 141 outlet~;
#N canvas 461 231 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 44 117 pd @hv_obj __and~f;
#X obj 149 95 sig~ 1;
#N canvas 707 229 223 209 @hv_obj 0;
#X obj 46 22 inlet~;
#X obj 46 147 outlet~;
#X obj 46 124 *~;
#X obj 146 22 inlet~;
#X obj 61 80 sig~ 1;
#X obj 61 102 -~;
#N canvas 1 63 312 202 lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 459 236 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 705 261 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 107 49 pd lte;
#N canvas 1 63 319 192 gte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 459 236 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 243 637 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 47 50 pd gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 5 1;
#X connect 7 0 2 0;
#X restore 44 69 pd @hv_obj __gt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 114 354 pd gt;
#N canvas 1 63 302 368 env-side-chooser 0;
#X obj 44 236 *~;
#X obj 135 119 sig~ 1;
#X obj 135 141 -~;
#X obj 61 188 sig~ 1;
#X obj 61 166 == 0;
#X obj 61 210 lop~ 100;
#X obj 134 236 *~;
#X obj 151 210 lop~ 100;
#X obj 44 36 inlet~;
#X obj 44 322 outlet~;
#X obj 151 36 inlet env-side;
#X obj 151 166 == 1;
#X obj 151 188 sig~ 0;
#X obj 134 258 *~;
#X obj 134 280 *~;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 0 1;
#X connect 6 0 13 0;
#X connect 6 0 13 1;
#X connect 7 0 6 1;
#X connect 8 0 0 0;
#X connect 8 0 2 1;
#X connect 10 0 4 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 13 0 14 0;
#X connect 13 0 14 1;
#X connect 14 0 9 0;
#X restore 22 599 pd env-side-chooser;
#X obj 338 26 inlet env-side_select;
#X obj 338 74 clip 0 1;
#X obj 338 96 i;
#X text 413 78 default: 0 = envelope follower \; 1 = sidechain;
#X connect 0 0 12 1;
#X connect 1 0 0 0;
#X connect 2 0 38 0;
#X connect 2 0 40 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 5 0 18 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 11 1;
#X connect 10 0 11 0;
#X connect 11 0 31 0;
#X connect 12 0 2 0;
#X connect 13 0 12 0;
#X connect 13 0 39 0;
#X connect 14 0 28 0;
#X connect 15 0 13 0;
#X connect 17 0 0 1;
#X connect 17 0 2 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 23 1;
#X connect 22 0 23 0;
#X connect 23 0 30 0;
#X connect 24 0 29 0;
#X connect 25 0 2 1;
#X connect 25 0 0 1;
#X connect 26 0 27 0;
#X connect 27 0 25 0;
#X connect 28 0 6 0;
#X connect 29 0 18 0;
#X connect 30 0 25 1;
#X connect 31 0 17 0;
#X connect 37 0 39 1;
#X connect 39 0 17 1;
#X connect 39 0 27 1;
#X connect 40 0 16 0;
#X connect 41 0 42 0;
#X connect 42 0 43 0;
#X connect 43 0 40 1;
