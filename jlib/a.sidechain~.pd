#N canvas 597 78 502 997 10;
#X obj 29 9 inlet~;
#X obj 32 946 outlet~;
#X obj 29 46 delwrite~ \$0-this-1 1000;
#X obj 30 174 lop~ 50;
#X obj 30 144 sig~ 1;
#X obj 30 786 *~;
#X obj 31 903 +~;
#X obj 49 858 lop~ 100;
#X obj 48 737 lop~ 100;
#X obj 49 833 -~;
#X obj 49 807 sig~ 1;
#X obj 48 715 sig~ 0;
#X obj 30 97 * 999;
#X obj 30 121 + 1;
#X obj 31 196 vd~ \$0-this-1;
#X obj 48 691 r \$1-depth-\$2;
#X obj 30 73 r \$1-delay-\$2;
#X obj 104 346 r \$1-release-\$2;
#X obj 104 371 * 1000;
#X obj 47 581 lop~ 100;
#X obj 30 632 *~;
#X obj 47 606 *~;
#X obj 47 507 r \$1-env_side-\$2;
#X obj 122 604 -~;
#X obj 30 666 +~;
#X obj 173 566 sig~ 0;
#X obj 173 588 lop~ 100;
#X obj 173 613 *~;
#X obj 122 577 sig~ 1;
#X obj 123 635 *~;
#X obj 47 534 == 0;
#X obj 47 559 sig~ 1;
#X obj 48 229 r \$1-makeup-\$2;
#X obj 48 318 lop~ 100;
#X obj 48 254 + 1;
#X obj 31 342 *~;
#X obj 48 276 * 10;
#X text 219 33 \$1 = \$0 \; \$2 = abulats instance (1 \, 2 or 3);
#X obj 48 296 sig~ 1;
#X obj 30 454 *~ 1;
#X obj 31 428 clip~ -1 1;
#X obj 30 480 *~ 3;
#X obj 47 760 *~;
#X obj 49 880 *~;
#N canvas 893 328 702 375 peakenv~ 0;
#X obj 27 30 inlet~;
#X obj 27 259 outlet~;
#X obj 462 157 samplerate~;
#X obj 311 33 inlet;
#X obj 311 127 t f b;
#X text 27 9 sig.in~;
#X text 28 279 sig.out~;
#X obj 311 181 expr exp(-1/($f1*$f2));
#X text 72 70 rectify;
#X obj 27 226 fexpr~ if($x1 >= $y[-1] \, $x1 \, $y[-1]*$f2);
#X obj 27 69 abs~;
#X text 475 181 calculate decay coefficient;
#X text 312 15 decay time in sec;
#X obj 311 105 \$1;
#X obj 324 79 loadbang;
#X connect 0 0 10 0;
#X connect 2 0 7 1;
#X connect 3 0 13 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 7 0 9 1;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 13 0 4 0;
#X connect 14 0 13 0;
#X restore 30 396 pd peakenv~;
#X connect 0 0 2 0;
#X connect 3 0 14 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 43 0;
#X connect 7 0 43 1;
#X connect 8 0 42 0;
#X connect 8 0 42 1;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 8 0;
#X connect 11 0 9 1;
#X connect 12 0 13 0;
#X connect 13 0 4 0;
#X connect 14 0 35 0;
#X connect 15 0 11 0;
#X connect 16 0 12 0;
#X connect 17 0 18 0;
#X connect 18 0 44 1;
#X connect 19 0 21 0;
#X connect 19 0 21 1;
#X connect 20 0 24 0;
#X connect 21 0 20 1;
#X connect 22 0 30 0;
#X connect 22 0 25 0;
#X connect 23 0 29 0;
#X connect 24 0 5 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 26 0 27 1;
#X connect 27 0 29 1;
#X connect 28 0 23 0;
#X connect 29 0 24 1;
#X connect 30 0 31 0;
#X connect 31 0 19 0;
#X connect 32 0 34 0;
#X connect 33 0 35 1;
#X connect 34 0 36 0;
#X connect 35 0 44 0;
#X connect 36 0 38 0;
#X connect 38 0 33 0;
#X connect 39 0 41 0;
#X connect 40 0 39 0;
#X connect 41 0 20 0;
#X connect 41 0 23 1;
#X connect 42 0 5 1;
#X connect 43 0 6 1;
#X connect 44 0 40 0;
